# Monitor + Auth 담당 5주 개발 계획

## 📋 현재 상태 분석

### ✅ 완료된 작업
- UI 컴포넌트 기본 구조 (LoginForm, SignupForm, MonitorPage)
- 프로젝트 폴더 구조 및 타입 정의
- 기본 스타일링

### ❌ 미완료 작업
- **Auth**: API 연동, 인증 상태 관리, 토큰 관리
- **Monitor**: 웹캠 연동, 실시간 분석, WebSocket 연결
- **AI**: 모델 연동, 자세 추론, 데이터 처리

---

## 🗓️ 5주 개발 계획

### **1주차: Auth 기본 구현 (인증 시스템 구축)**
**목표**: 로그인/회원가입 API 연동 및 인증 상태 관리 완료

#### 작업 내용
1. **Auth API 구현** (`features/auth/api/authApi.ts`)
   - 로그인 API 호출 함수
   - 회원가입 API 호출 함수
   - 토큰 갱신 API 호출 함수
   - 에러 처리 및 타입 정의

2. **인증 상태 관리** (`features/auth/hooks/useAuth.ts`)
   - 로그인/로그아웃 로직
   - 토큰 저장 및 관리 (localStorage/sessionStorage)
   - 인증 상태 확인 (isAuthenticated)
   - 사용자 정보 관리

3. **Auth Store 구현** (`store/authStore.ts`)
   - 전역 인증 상태 관리
   - Zustand 또는 Context API 활용

4. **LoginForm/SignupForm 연동**
   - API 호출 연결
   - 로딩 상태 처리
   - 에러 메시지 표시
   - 성공 시 리다이렉트

5. **보호된 라우트 구현**
   - 인증이 필요한 페이지 보호
   - 미인증 시 로그인 페이지로 리다이렉트

**예상 산출물**:
- ✅ 로그인/회원가입 기능 완전 동작
- ✅ 인증 상태 전역 관리
- ✅ 토큰 기반 인증 시스템

---

### **2주차: Monitor 기본 구현 (웹캠 연동 및 UI)**
**목표**: 웹캠 연동 및 기본 모니터링 UI 완성

#### 작업 내용
1. **웹캠 Hook 구현** (`features/monitor/hooks/useWebcam.ts`)
   - 웹캠 권한 요청
   - 비디오 스트림 가져오기
   - 웹캠 시작/중지 기능
   - 에러 처리 (권한 거부, 장치 없음 등)

2. **WebcamPanel 컴포넌트 구현** (`features/monitor/components/WebcamPanel.tsx`)
   - 비디오 요소 렌더링
   - 웹캠 제어 버튼 (시작/중지)
   - 권한 요청 UI
   - 로딩 상태 표시

3. **Monitor API 기본 구조** (`features/monitor/api/monitorApi.ts`)
   - 모니터링 세션 시작 API
   - 모니터링 세션 종료 API
   - 세션 데이터 조회 API

4. **MonitorPage 통합**
   - WebcamPanel 컴포넌트 연결
   - 웹캠 상태에 따른 UI 업데이트
   - 기본 레이아웃 완성

5. **LiveStatsCard 컴포넌트 구현** (`features/monitor/components/LiveStatsCard.tsx`)
   - 실시간 통계 표시 (더미 데이터)
   - 카드 UI 스타일링

**예상 산출물**:
- ✅ 웹캠 스트림 표시
- ✅ 웹캠 제어 기능
- ✅ 기본 모니터링 UI

---

### **3주차: WebSocket 연동 및 실시간 데이터 처리**
**목표**: WebSocket을 통한 실시간 자세 분석 데이터 수신

#### 작업 내용
1. **WebSocket Hook 구현** (`features/monitor/hooks/usePostureSocket.ts`)
   - WebSocket 연결 관리
   - 연결/재연결 로직
   - 메시지 수신 처리
   - 에러 처리 및 연결 상태 관리

2. **Monitor Session Hook** (`features/monitor/hooks/useMonitorSession.ts`)
   - 모니터링 세션 시작/종료
   - WebSocket과 웹캠 연동
   - 세션 데이터 수집 및 관리

3. **실시간 데이터 처리**
   - WebSocket 메시지 파싱
   - 자세 분석 데이터 타입 정의
   - 실시간 통계 업데이트

4. **PostureIssueSummary 연동**
   - 실시간 데이터로 문제 유형별 카운트 업데이트
   - 애니메이션 효과 추가

5. **MonitorConfigCard 구현** (`features/monitor/components/MonitorConfigCard.tsx`)
   - 모니터링 설정 UI
   - 알림 설정
   - 분석 간격 설정

**예상 산출물**:
- ✅ WebSocket 연결 및 데이터 수신
- ✅ 실시간 자세 분석 데이터 표시
- ✅ 세션 관리 기능

---

### **4주차: AI 모델 연동 및 자세 분석**
**목표**: AI 모델을 통한 자세 추론 및 분석 완성

#### 작업 내용
1. **AI Client 구현** (`features/ai/api/aiClient.ts`)
   - AI 모델 API 연동
   - 이미지/프레임 전송
   - 추론 결과 수신
   - API 키 관리 및 보안

2. **Pose Inference Hook** (`features/ai/hooks/usePoseInference.ts`)
   - 웹캠 프레임 캡처
   - 프레임을 AI 모델로 전송
   - 추론 결과 처리
   - 자세 분석 로직 (거북목, 어깨 기울어짐 등)

3. **AI 모델 연동 통합**
   - 웹캠 → AI 모델 → WebSocket 파이프라인 구축
   - 프레임 처리 최적화 (FPS 제어)
   - 에러 처리 및 재시도 로직

4. **자세 분석 알고리즘**
   - 거북목 감지 로직
   - 어깨 기울어짐 감지
   - 화면 거리 측정
   - 등 굽음 감지

5. **실시간 피드백 UI**
   - 자세 문제 시각적 표시
   - 경고 알림
   - 개선 제안 표시

**예상 산출물**:
- ✅ AI 모델 연동 완료
- ✅ 실시간 자세 분석 동작
- ✅ 자세 문제 감지 및 알림

---

### **5주차: 통합 테스트 및 발표 준비**
**목표**: 전체 기능 통합 및 버그 수정, 발표 준비

#### 작업 내용
1. **통합 테스트**
   - Auth → Monitor 플로우 테스트
   - 웹캠 → AI → WebSocket 전체 파이프라인 테스트
   - 에러 케이스 테스트
   - 성능 최적화

2. **버그 수정 및 개선**
   - 발견된 버그 수정
   - UI/UX 개선
   - 에러 메시지 개선
   - 로딩 상태 개선

3. **에러 처리 강화**
   - 네트워크 에러 처리
   - 웹캠 에러 처리
   - AI 모델 에러 처리
   - 사용자 친화적 에러 메시지

4. **성능 최적화**
   - 프레임 처리 최적화
   - 메모리 누수 방지
   - WebSocket 재연결 최적화

5. **발표 준비**
   - 데모 시나리오 준비
   - 주요 기능 하이라이트
   - 기술 스택 정리
   - 트러블슈팅 가이드 작성

**예상 산출물**:
- ✅ 안정적인 전체 시스템
- ✅ 발표용 데모 준비 완료
- ✅ 문서화 완료

---

## 📊 주차별 우선순위

### 🔴 최우선 (1-2주차)
- Auth 시스템 (다른 기능의 기반)
- 웹캠 기본 연동 (Monitor의 핵심)

### 🟡 중요 (3주차)
- WebSocket 연동 (실시간 기능)

### 🟢 보완 (4-5주차)
- AI 모델 연동 (고도화)
- 통합 및 최적화

---

## 🛠️ 기술 스택 확인 필요 사항

다음 항목들을 확인하고 필요시 추가해야 합니다:

1. **WebSocket 라이브러리**
   - `socket.io-client` 또는 `ws` (브라우저용)

2. **상태 관리**
   - Zustand, Redux, 또는 Context API

3. **HTTP 클라이언트**
   - `axios` 또는 `fetch` (이미 `httpClient.ts` 존재)

4. **AI 모델 연동**
   - 백엔드 API 엔드포인트 확인 필요
   - API 키 관리 방식 확인

---

## ⚠️ 리스크 관리

### 잠재적 리스크
1. **웹캠 권한 이슈**
   - 브라우저별 권한 처리 차이
   - HTTPS 필수 여부 확인

2. **AI 모델 API 지연**
   - 응답 시간 최적화 필요
   - 비동기 처리 및 로딩 상태

3. **WebSocket 연결 안정성**
   - 재연결 로직 필수
   - 네트워크 불안정 대응

4. **성능 이슈**
   - 프레임 처리 부하
   - 메모리 관리

### 대응 방안
- 각 주차 말에 테스트 및 버그 수정 시간 확보
- 4주차에 성능 테스트 및 최적화
- 5주차에 충분한 버퍼 시간 확보

---

## 📝 주간 체크리스트 템플릿

각 주차 말에 다음을 확인하세요:

- [ ] 해당 주차 목표 달성 여부
- [ ] 주요 기능 동작 확인
- [ ] 에러 처리 구현 여부
- [ ] 코드 리뷰 및 리팩토링
- [ ] 다음 주차 준비 사항 확인

---

## 💡 추가 권장 사항

1. **일일 스탠드업**: 매일 진행 상황 공유
2. **주간 회고**: 주차 말에 회고 및 개선점 도출
3. **문서화**: 주요 기능은 주석 및 문서 작성
4. **버전 관리**: Git 커밋 메시지 명확히 작성
5. **백엔드 팀과 협업**: API 스펙 조율 및 테스트

---

**작성일**: 2024년
**담당자**: Monitor + Auth 담당
**목표**: 발표까지 5주 완성

